# Block String Test Matrix

Systematic block-string tests organized by dimension analysis. Generated by `test.rb`.

## Naming Convention

`block-string-{lines}-{style}-{chomp}-{dimensions}-{termination}`

- **lines**: `0` (no content), `1` (single content line), `multi` (2+ content lines)
- **style**: `literal` (`|`), `folded` (`>`)
- **chomp**: `clip` (default), `strip` (`-`), `keep` (`+`)
- **body** (0-line): `none`, `emptyln`, `wsln`
- **leading/trailing** (1-line): `none`, `emptyln`, `wsln`
- **leading/middle/trailing** (multi-line): `none`, `emptyln`, `wsln`
- **termination**: `dedent`, `eof`, `eof-nonl`

## Group A: 0-line (no content lines)

**Coverage: exhaustive (42 cases)**

| Dimension   | Values                                 | Count |
|-------------|----------------------------------------|------:|
| style       | literal, folded                        |     2 |
| chomp       | clip, strip, keep                      |     3 |
| body        | none, emptyln, wsln                    |     3 |
| termination | dedent, eof, eof-nonl                  |     3 |

- body=none: all 3 terminations (18 cases)
- body=emptyln: dedent + eof only (12 cases)
- body=wsln: dedent + eof only (12 cases)
- **Total: 42**

## Group B: 1-line (single content line)

**Coverage: pairwise (16 cases)**

| Dimension   | Values                    | Count |
|-------------|---------------------------|------:|
| style       | literal, folded           |     2 |
| chomp       | clip, strip, keep         |     3 |
| leading     | none, emptyln, wsln       |     3 |
| trailing    | none, emptyln, wsln       |     3 |
| termination | dedent, eof, eof-nonl     |     3 |

Full product: 2 × 3 × 3 × 3 × 3 = 162 → pairwise reduced to 16 cases.
Includes 5 supplementary cases for chomp × trailing interactions.

## Group C: multi-line (2+ content lines)

**Coverage: pairwise (14 cases)**

| Dimension   | Values                    | Count |
|-------------|---------------------------|------:|
| style       | literal, folded           |     2 |
| chomp       | clip, strip, keep         |     3 |
| leading     | none, emptyln, wsln       |     3 |
| middle      | none, emptyln, wsln       |     3 |
| trailing    | none, emptyln, wsln       |     3 |
| termination | dedent, eof, eof-nonl     |     3 |

Full product: 2 × 3 × 3 × 3 × 3 × 3 = 486 → pairwise reduced to 14 cases.

## Retained legacy tests

These tests cover scenarios outside the dimension analysis:

| Test | Purpose |
|------|---------|
| block-string-body-trailing-whitespace | Trailing whitespace within content lines |
| block-string-consecutive | Multiple consecutive block strings |
| block-string-end-at-outer | Block string terminated by outer-level dedent |
| block-string-extra-indent | Extra indentation within block string |
| block-string-fallback | Fallback behavior for invalid block strings |
| block-string-folded | 3+ line folded with paragraph breaks |
| block-string-folded-strip | 3+ line folded with strip chomp |
| block-string-header-trailing-space | Trailing space after block string indicator |
| block-string-in-prefix | Block string inside prefix block |
| block-string-indent | Various indent levels and tab handling |
| block-string-insufficient-indent | Insufficient indentation edge case |
| block-string-keep-multi-trailing | Keep chomp with multiple trailing empty lines |
| block-string-nested-indent | Nested indentation levels |

## Summary

| Group | Cases | Method |
|-------|------:|--------|
| 0-line | 42 | exhaustive |
| 1-line | 16 | pairwise |
| multi-line | 14 | pairwise |
| legacy (non-dimensional) | 13 | manual |
| **Total** | **85** | |
